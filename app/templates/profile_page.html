{% extends "master.html" %}

{% load static %}

{% block content %}

    <div class="d-flex flex-row p-4 justify-content-between align-items-center">
        <div class="user-img position-relative">
            <span class="activity active"></span>
            <img src="{% static 'images/user/1.png' %}"  height="40" width="40" alt="">
        </div>
        <h3 class="col">{{author.username}} profile</h3>
        {% if follow != -1 %}
            {% if follow == 0 %}
                <h6 class=""><a class="nav-link link-dark" href="{% url 'app:follow-user' author.id %}" class='link-dark'><i class="bi bi-plus-square"></i> follow</a></h6>
            {% elif follow == 2 %}
                <div>
                    <h6 class=""><a class="nav-link link-dark" href="{% url 'app:unfollow-user' author.id %}" class='link-dark'>unfollow</a></h6>
                    <h6 class="">followed from {{follow_date}}</h6>
                </div>
            {% endif %}
        {% endif %}
    </div>

    <hr/>

    <div class="container-fluid mt-3">
        <div class="row">
            <div class="col-lg-3 col-sm-6">
                <div class="card gradient-1">
                    <div class="card-body">
                        <h3 class="card-title text-white">Written Entry</h3>
                        <div class="d-inline-block">
                            <h2 class="text-white">{{entries|length}}</h2>
                            <p class="text-white mb-0">Since: {{entries.first.created_at.date}}</p>
                        </div>
                        <span class="float-right display-5 opacity-5"><i class="bi bi-pen-fill"></i></span>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-sm-6">
                <div class="card gradient-2">
                    <div class="card-body">
                        <h3 class="card-title text-white">Created Title</h3>
                        <div class="d-inline-block">
                            <h2 class="text-white">{{titles|length}}</h2>
                            <p class="text-white mb-0">Since: {{titles.first.created_at}}</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-sm-6">
                <div class="card gradient-3">
                    <div class="card-body">
                        <h3 class="card-title text-white">Followers</h3>
                        <div class="d-inline-block">
                        <h2 class="text-white">{{author.follower_count}}</h2>
                            <p class="text-white mb-0">{{author.date_joined.date}}</p>
                        </div>
                        <span class="float-right display-5 opacity-5"><i class="bi bi-people-fill"></i></span>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-sm-6">
                <div class="card gradient-4">
                    <div class="card-body">
                        <h3 class="card-title text-white">Vote Ratio</h3>
                        <div class="d-inline-block">
                            <h2 class="text-white">{{author.upvote_ratio}}%</h2>
                            <p class="text-white mb-0">{{author.up_votes}} - {{author.total_votes}}</p>
                        </div>
                        <span class="float-right display-5 opacity-5"><i class="bi bi-arrow-bar-up"></i></span>
                    </div>
                </div>
            </div>
</div>

<hr/>

{% if entries %}
<h4>{{author.username}}'s Entries</h4>

{% include 'components/entries.html' %}

{% else %}
<div>
    <h5> No entry :/</h5>
</div>
{% endif %}

<hr/>

{% if titles %}
    <h4>{{author.username}}'s Titles </h4>
    {% include 'components/titles.html' %}
{% else %}
    <div>
        <h5> No title :/</h5>
    </div>
{% endif %}

{% endblock %}